'use strict';

const validator = require('../utils/validator');
const readFileSync = require('fs').readFileSync;

function getConnectorJson(propJson) {
	let connector_json = null;
	if (validator.isNonNullObject(propJson, 'connector_json', false)) {
		connector_json = propJson;
	} else {
		let jsonString;
		try {
			jsonString = readFileSync(propJson, 'utf8');
		} catch (err) {
			return null;
		}
		try {
			connector_json = JSON.parse(jsonString);
		} catch (err) {
			return null;
		}
	}
	return connector_json;
}
exports.getConnectorJson = getConnectorJson;
